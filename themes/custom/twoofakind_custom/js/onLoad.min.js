/*
 *	Dynamic design functions and onLoad events
 *	----------------------------------------------------------------------
 * 	Creates added dynamic functions and initializes loading.
 */
(function ($) {
  
  var setBySkin = false;
  
  Cufon.replace
    ('.headline')
    ('.ribbon span', {
      hover: true,
      textShadow: '-1px -1px rgba(238, 152, 15, 0.9)'});

  jQuery(document).ready(function(){if(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7){jQuery('ul.sf-menu').superfish({delay:400,animation:{height:'show'},speed:275})}else{jQuery('ul.sf-menu').supersubs({minWidth:12,maxWidth:27,extraWidth:0}).superfish({delay:400,animation:{height:'show'},speed:275})}var overlayColor=jQuery('#fancy_overlay').css('background-color')||'#2c2c2c';jQuery("a.zoom").fancybox({'padding':12,'overlayOpacity':0.2,'overlayColor':overlayColor,'zoomSpeedIn':500,'zoomSpeedOut':500,'callbackOnShow':modalStart});jQuery("a.login").fancybox({'padding':12,'overlayOpacity':0.2,'overlayColor':overlayColor,'showCloseButton':false,'frameWidth':400,'frameHeight':208,'hideOnContentClick':false,'callbackOnShow':modalStart});jQuery('.topReveal').click(function(){jQuery('#ContentPanel').slideToggle(800,'easeOutQuart');jQuery.scrollTo('#ContentPanel');return false});jQuery("a.img").hover(function(){if(jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<=8){jQuery(this).stop(false,true).toggleClass('imgHover')}else{jQuery(this).stop(false,true).toggleClass('imgHover',200)}});jQuery.fn.cluetip.defaults.cluetipClass='skinned';jQuery.fn.cluetip.defaults.cluezIndex=1234;jQuery.fn.cluetip.defaults.dropShadow=false;jQuery.fn.cluetip.defaults.topOffset=35;jQuery.fn.cluetip.defaults.fx={open:'fadeIn',openSpeed:'100'};jQuery.fn.cluetip.defaults.hoverIntent={sensitivity:3,interval:100,timeout:80};jQuery.fn.cluetip.defaults.onShow=function(ct,c){if(jQuery('#cluetip-inner').html()==''){(jQuery.browser.msie)?jQuery('#cluetip').addClass('ieFix'):jQuery('#cluetip').addClass('mozFix')}else{(jQuery.browser.msie)?jQuery('#cluetip').removeClass('ieFix'):jQuery('#cluetip').removeClass('mozFix')}};jQuery('a.tip[title != ""]').cluetip({showtitle:false,arrows:true,splitTitle:''});jQuery('.tipInclude').cluetip({attribute:'rel',showtitle:false,arrows:true});jQuery("input[type='text']:not(.noStyle), input[type='password']:not(.noStyle)").each(function(){jQuery(this).addClass('textInput')});jQuery(window).scroll(function(){ribbonPosition()});ribbonPosition();jQuery("label.overlabel").overlabel();jQuery.localScroll();searchInputEffect();buttonStyles();if(!jQuery.browser.msie){jQuery("a.img, div.img, .textInput, input[type='text'], input[type='password'], textarea").addClass('rounded');roundCorners();}});function modalStart(){Cufon.replace('.fancy_title > div');jQuery('#fancy_inner').addClass('rounded');roundCorners()}function ribbonPosition(){var t=jQuery(window).scrollTop();var h=jQuery(window).height();var offset=jQuery(window).height()/25;var zoneSize=jQuery(window).height()/3;var zoneOne=t+zoneSize+offset;var zoneTwo=t+zoneSize*2-offset;jQuery(".ribbon .wrapAround").each(function(){var obj=jQuery(this);var objH=obj.height();var offset=obj.offset();if(offset.top+objH<=zoneOne){jQuery(this).css('background-position','0 0')}else if(offset.top>=zoneTwo){jQuery(this).css('background-position','0 -104px')}else{jQuery(this).css('background-position','0 -52px')}})}function searchInputEffect(){var searchFocus=false,searchHover=false,searchCtnr=jQuery('#Search');searchInput=jQuery('#SearchInput'),searchSubmit=jQuery('#SearchSubmit');searchCtnr.hover(function(){if(!searchFocus)jQuery(this).addClass('searchHover');searchHover=true},function(){if(!searchFocus)jQuery(this).removeClass('searchHover');searchHover=false}).mousedown(function(){if(!searchFocus)jQuery(this).removeClass('searchHover').addClass('searchActive')}).mouseup(function(){searchInput.focus();searchSubmit.show();searchFocus=true});searchInput.blur(function(){if(!searchHover){searchCtnr.removeClass('searchActive');searchSubmit.hide();searchFocus=false}})}function buttonStyles(){jQuery("button:not(:has(span),.noStyle), input[type='submit']:not(.noStyle), input[type='button']:not(.noStyle)").each(function(){var b=jQuery(this),tt=b.html()||b.val();if(!b.html()){b=(jQuery(this).attr('type')=='submit')?jQuery('<button type="submit" name="'+jQuery(this).attr('name')+'"  value="'+jQuery(this).attr('value')+'">'):jQuery('<button name="'+jQuery(this).attr('name')+'" value="'+jQuery(this).attr('value')+'">');b.insertAfter(this).addClass(this.className).attr('id',this.id);jQuery(this).remove();}b.text('').addClass('btn').append(jQuery('<span>').html(tt));});var styledButtons=jQuery('button.btn');if(jQuery.browser.mozilla||jQuery.browser.webkit){styledButtons.children("span").css("margin-top","-1px")}styledButtons.hover(function(){jQuery(this).addClass('submitBtnHover')},function(){jQuery(this).removeClass('submitBtnHover')})}function roundCorners(){jQuery('.rounded, .ui-corner-all').css({'-moz-border-radius':'4px','-webkit-border-radius':'4px','border-radius':'4px'})}Cufon.replace('h1, h2, h3, h4, h5, h6, .fancy_title div');if(!setBySkin){Cufon.replace('.headline',{textShadow:'1px 1px rgba(255, 255, 255, 1)'})('.ribbon span',{hover:true,textShadow:'-1px -1px rgba(0, 0, 0, 0.4)'})};

})(jQuery);